#!/bin/sh

hyperfine -w=1 --export-json="results1.json" --export-markdown="results1.md" \
	-n="-O0" -p="OPTFLAGS='-O0' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-O1" -p="OPTFLAGS='-O1' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-O2" -p="OPTFLAGS='-O2' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-O3" -p="OPTFLAGS='-O3' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-Og" -p="OPTFLAGS='-Og' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-Os" -p="OPTFLAGS='-Os' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-O2 -march=native" -p="OPTFLAGS='-O2 -march=native' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-O3 -march=native" -p="OPTFLAGS='-O3 -march=native' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-Ofast -march=native" -p="OPTFLAGS='-Ofast -march=native' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-Os -march=native" -p="OPTFLAGS='-Os -march=native' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-O2 -march=native -flto" -p="OPTFLAGS='-O2 -march=native -flto' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-O3 -march=native -flto" -p="OPTFLAGS='-O3 -march=native -flto' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-Ofast -march=native -flto" -p="OPTFLAGS='-Ofast -march=native -flto' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-Os -march=native -flto" -p="OPTFLAGS='-Os -march=native -flto' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" \
	-n="-O0 + strip" -p="OPTFLAGS='-O0' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-O1 + strip" -p="OPTFLAGS='-O1' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-O2 + strip" -p="OPTFLAGS='-O2' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-O3 + strip" -p="OPTFLAGS='-O3' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-Og + strip" -p="OPTFLAGS='-Og' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-Os + strip" -p="OPTFLAGS='-Os' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-O2 -march=native + strip" -p="OPTFLAGS='-O2 -march=native' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-O3 -march=native + strip" -p="OPTFLAGS='-O3 -march=native' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-Ofast -march=native + strip" -p="OPTFLAGS='-Ofast -march=native' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-Os -march=native + strip" -p="OPTFLAGS='-Os -march=native' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-O2 -march=native -flto + strip" -p="OPTFLAGS='-O2 -march=native -flto' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-O3 -march=native -flto + strip" -p="OPTFLAGS='-O3 -march=native -flto' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-Ofast -march=native -flto + strip" -p="OPTFLAGS='-Ofast -march=native -flto' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-Os -march=native -flto + strip" -p="OPTFLAGS='-Os -march=native -flto' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240" \
	-n="-O2 -march=native -flto + PGO" -p="OPTFLAGS='-O2 -march=native -flto' PGO=true STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-O3 -march=native -flto + PGO" -p="OPTFLAGS='-O3 -march=native -flto' PGO=true STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-Ofast -march=native -flto + PGO" -p="OPTFLAGS='-Ofast -march=native -flto' PGO=true STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-Os -march=native -flto + PGO" -p="OPTFLAGS='-Os -march=native -flto' PGO=true STRIP=false ./build.sh" "./partdiff 1 2 64 1 2 10240" \
	-n="-O2 -march=native -flto + PGO + strip" -p="OPTFLAGS='-O2 -march=native -flto' PGO=true STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-O3 -march=native -flto + PGO + strip" -p="OPTFLAGS='-O3 -march=native -flto' PGO=true STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-Ofast -march=native -flto + PGO + strip" -p="OPTFLAGS='-Ofast -march=native -flto' PGO=true STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240" -n="-Os -march=native -flto + PGO + strip" -p="OPTFLAGS='-Os -march=native -flto' PGO=true STRIP=true ./build.sh" "./partdiff 1 2 64 1 2 10240"
hyperfine -w=1 --export-json="results2.json" --export-markdown="results2.md" \
	-n="-O0" -p="OPTFLAGS='-O0' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-O1" -p="OPTFLAGS='-O1' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-O2" -p="OPTFLAGS='-O2' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-O3" -p="OPTFLAGS='-O3' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-Og" -p="OPTFLAGS='-Og' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-Os" -p="OPTFLAGS='-Os' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-O2 -march=native" -p="OPTFLAGS='-O2 -march=native' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-O3 -march=native" -p="OPTFLAGS='-O3 -march=native' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-Ofast -march=native" -p="OPTFLAGS='-Ofast -march=native' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-Os -march=native" -p="OPTFLAGS='-Os -march=native' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-O2 -march=native -flto" -p="OPTFLAGS='-O2 -march=native -flto' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-O3 -march=native -flto" -p="OPTFLAGS='-O3 -march=native -flto' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-Ofast -march=native -flto" -p="OPTFLAGS='-Ofast -march=native -flto' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-Os -march=native -flto" -p="OPTFLAGS='-Os -march=native -flto' PGO=false STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" \
	-n="-O0 + strip" -p="OPTFLAGS='-O0' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-O1 + strip" -p="OPTFLAGS='-O1' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-O2 + strip" -p="OPTFLAGS='-O2' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-O3 + strip" -p="OPTFLAGS='-O3' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-Og + strip" -p="OPTFLAGS='-Og' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-Os + strip" -p="OPTFLAGS='-Os' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-O2 -march=native + strip" -p="OPTFLAGS='-O2 -march=native' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-O3 -march=native + strip" -p="OPTFLAGS='-O3 -march=native' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-Ofast -march=native + strip" -p="OPTFLAGS='-Ofast -march=native' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-Os -march=native + strip" -p="OPTFLAGS='-Os -march=native' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-O2 -march=native -flto + strip" -p="OPTFLAGS='-O2 -march=native -flto' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-O3 -march=native -flto + strip" -p="OPTFLAGS='-O3 -march=native -flto' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-Ofast -march=native -flto + strip" -p="OPTFLAGS='-Ofast -march=native -flto' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-Os -march=native -flto + strip" -p="OPTFLAGS='-Os -march=native -flto' PGO=false STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120" \
	-n="-O2 -march=native -flto + PGO" -p="OPTFLAGS='-O2 -march=native -flto' PGO=true STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-O3 -march=native -flto + PGO" -p="OPTFLAGS='-O3 -march=native -flto' PGO=true STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-Ofast -march=native -flto + PGO" -p="OPTFLAGS='-Ofast -march=native -flto' PGO=true STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-Os -march=native -flto + PGO" -p="OPTFLAGS='-Os -march=native -flto' PGO=true STRIP=false ./build.sh" "./partdiff 1 2 64 2 2 5120" \
	-n="-O2 -march=native -flto + PGO + strip" -p="OPTFLAGS='-O2 -march=native -flto' PGO=true STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-O3 -march=native -flto + PGO + strip" -p="OPTFLAGS='-O3 -march=native -flto' PGO=true STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-Ofast -march=native -flto + PGO + strip" -p="OPTFLAGS='-Ofast -march=native -flto' PGO=true STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120" -n="-Os -march=native -flto + PGO + strip" -p="OPTFLAGS='-Os -march=native -flto' PGO=true STRIP=true ./build.sh" "./partdiff 1 2 64 2 2 5120"
echo "Whew, that was a lot of benchmarking!"
